(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{125:function(t,e,a){},130:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(8),i=a.n(c);a(98),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o,s,u=a(21),l=a(13),d=a.n(l),f=a(22),m=a(29),p=a(47),O=a(10),b=a(73),k=a.n(b).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"c9a11d0b-1bf4-4a0d-8b85-3f35229d5cc6"}});!function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(o||(o={})),function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(s||(s={}));var v={getTodoLists:function(){return k.get("todo-lists").then((function(t){return t.data}))},setTodolist:function(t){return k.post("todo-lists",{title:t})},removeTodolist:function(t){return k.delete("todo-lists/".concat(t))},updateTodolist:function(t,e){return k.put("todo-lists/".concat(t),{title:e})},reorderTodolist:function(t,e){return k.put("/todo-lists/".concat(t,"/reorder"),{putAfterItemId:e})},getTasks:function(t){return k.get("todo-lists/".concat(t,"/tasks?count=10&page=1"))},createTask:function(t,e){return k.post("todo-lists/".concat(t,"/tasks"),{title:e})},deleteTask:function(t,e){return k.delete("/todo-lists/".concat(t,"/tasks/").concat(e))},updateTask:function(t,e,a){return k.put("/todo-lists/".concat(t,"/tasks/").concat(e),a)},reorderTask:function(t,e,a){return k.put("/todo-lists/".concat(t,"/tasks/").concat(e),{putAfterItemId:a})}},T=function(t){return{type:"ADD-TASK",task:t}},E=function(t){return{type:"CHANGE_TASK",task:t}},j=function(t,e){return{type:"GET-TASKS",todoListId:t,tasks:e}},h={};var I=function(t){return{type:"REMOVE-TODOLIST",id:t}},y=function(t,e){return{type:"CHANGE_TODOLIST_TITLE",id:t,title:e}},w=function(t,e){return{type:"CHANGE_TODOLIST_FILTER",id:t,filter:e}},L=[];var g=a(34),S=a(74),C=Object(g.c)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TASK":var a=Object(O.a)({},t);return a[e.todoListId]=a[e.todoListId].filter((function(t){return t.id!==e.taskId})),a;case"ADD-TASK":return Object(O.a)(Object(O.a)({},t),{},Object(m.a)({},e.task.todoListId,[e.task].concat(Object(p.a)(t[e.task.todoListId]))));case"CHANGE_TASK":var n=Object(O.a)({},t),r=n[e.task.todoListId].map((function(t){return t.id===e.task.id?t=e.task:t}));return Object(O.a)(Object(O.a)({},t),{},Object(m.a)({},e.task.todoListId,r));case"ADD-TODOLIST":return Object(O.a)(Object(O.a)({},t),{},Object(m.a)({},e.todolist.id,[]));case"REMOVE-TODOLIST":var c=Object(O.a)({},t);return delete c[e.id],c;case"todolist_reducer/SET_TODOLISTS":var i=Object(O.a)({},t);return e.todolists.forEach((function(t){i[t.id]=[]})),i;case"GET-TASKS":return Object(O.a)(Object(O.a)({},t),{},Object(m.a)({},e.todoListId,e.tasks.map((function(t){return t}))));default:return t}},todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.id}));case"ADD-TODOLIST":var a=e.todolist;return a.filter="all",[a].concat(Object(p.a)(t));case"CHANGE_TODOLIST_TITLE":return t.map((function(t){return t.id===e.id?Object(O.a)(Object(O.a)({},t),{},{title:e.title}):t}));case"CHANGE_TODOLIST_FILTER":return t.map((function(t){return t.id===e.id?Object(O.a)(Object(O.a)({},t),{},{filter:e.filter}):t}));case"todolist_reducer/SET_TODOLISTS":return e.todolists.map((function(t){return Object(O.a)(Object(O.a)({},t),{},{filter:"all"})}));default:return t}}}),D=Object(g.d)(C,Object(g.a)(S.a));window.store=D;a(125);var x=a(36),A=a(164),_=a(172),N=r.a.memo((function(t){var e=Object(n.useState)(""),a=Object(x.a)(e,2),c=a[0],i=a[1],o=Object(n.useState)(null),s=Object(x.a)(o,2),u=s[0],l=s[1],d=function(){var e=c.trim();e?(t.addItems(e),i("")):l("Title is Required")};return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(_.a,{label:"Enter text",error:!!u,className:u?"error":"",value:c,onChange:function(t){i(t.currentTarget.value),u&&l(null)},onKeyPress:function(t){"Enter"===t.key&&d()},helperText:u}),r.a.createElement(A.a,{color:"primary",variant:"contained",size:"small",onClick:d},"+")))})),K=r.a.memo((function(t){var e=Object(n.useState)(!1),a=Object(x.a)(e,2),c=a[0],i=a[1],o=Object(n.useState)(t.title),u=Object(x.a)(o,2),l=u[0],d=u[1];return c?r.a.createElement(_.a,{value:l,size:"small",onChange:function(t){d(t.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),l.trim()&&t.changeTaskTitle(l.trim())}}):r.a.createElement("span",{onDoubleClick:function(){i(!0)},className:t.status===s.Completed?"is-done":""},t.title)})),R=a(165),G=a(84),H=a.n(G),M=a(52),z=a.n(M),V=a(173),F=a(83),P=a.n(F),U=r.a.memo((function(t){var e=Object(u.b)(),a=Object(n.useCallback)((function(){var a,n;e((a=t.todolistId,n=t.task.id,function(t){v.deleteTask(a,n).then((function(e){t(function(t,e){return{type:"REMOVE-TASK",taskId:t,todoListId:e}}(n,a))}))}))}),[e,t.task.id,t.todolistId]),c=Object(n.useCallback)((function(a){e(function(t,e,a){return function(){var n=Object(f.a)(d.a.mark((function n(r,c){var i,o,s,u;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=c().tasks,!(o=i[t].find((function(t){return t.id===e})))){n.next=8;break}return s={title:a,description:o.description,completed:o.completed,status:o.status,priority:o.priority,startDate:o.startDate,deadline:o.deadline},n.next=6,v.updateTask(o.todoListId,o.id,s);case 6:u=n.sent,r(E(u.data.data.item));case 8:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()}(t.todolistId,t.task.id,a))}),[e,t.task.id,t.todolistId]),i=Object(n.useCallback)((function(a){var n,r,c;e((n=t.todolistId,r=t.task.id,c=a.currentTarget.checked?2:0,function(){var t=Object(f.a)(d.a.mark((function t(e,a){var i,o,s,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=a().tasks,!(o=i[n].find((function(t){return t.id===r})))){t.next=8;break}return s={title:o.title,description:o.description,completed:o.completed,status:c,priority:o.priority,startDate:o.startDate,deadline:o.deadline},t.next=6,v.updateTask(o.todoListId,o.id,s);case 6:u=t.sent,e(E(u.data.data.item));case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()))}),[e,t.task.id,t.todolistId]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(V.a,{color:"primary",onChange:i,checked:0!==t.task.status}),r.a.createElement(K,{title:t.task.title,changeTaskTitle:c,status:t.task.status}),r.a.createElement("span",null,r.a.createElement(R.a,{onClick:a},r.a.createElement(P.a,null)))))})),B=r.a.memo((function(t){var e=Object(u.c)((function(t){return t.tasks})),a=Object(u.b)();Object(n.useEffect)((function(){var e;a((e=t.id,function(){var t=Object(f.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getTasks(e);case 2:n=t.sent,a(j(e,n.data.items));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[a,t.id]);var c=e[t.id];"active"===t.filter&&(c=e[t.id].filter((function(t){return t.status===s.New}))),"completed"===t.filter&&(c=e[t.id].filter((function(t){return t.status===s.Completed})));var i=Object(n.useCallback)((function(){a(w(t.id,"all"))}),[a,t.id]),o=Object(n.useCallback)((function(){a(w(t.id,"active"))}),[a,t.id]),l=Object(n.useCallback)((function(){a(w(t.id,"completed"))}),[a,t.id]),m=Object(n.useCallback)((function(e){a(function(t,e){return function(){var a=Object(f.a)(d.a.mark((function a(n){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.createTask(t,e);case 2:r=a.sent,n(T(r.data.data.item));case 4:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()}(t.id,e))}),[a,t.id]),p=Object(n.useCallback)((function(e){a(function(t,e){return function(){var a=Object(f.a)(d.a.mark((function a(n){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.updateTodolist(t,e);case 2:n(y(t,e));case 3:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()}(t.id,e))}),[a,t.id]);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:z.a.delete},r.a.createElement(R.a,{onClick:function(){return a((e=t.id,function(){var t=Object(f.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.removeTodolist(e);case 2:a(I(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e}},r.a.createElement(H.a,null))),r.a.createElement("h3",{className:z.a.test,style:{textAlign:"center"}},r.a.createElement(K,{title:t.title,changeTaskTitle:p})),r.a.createElement(N,{addItems:m}),c.map((function(e){return r.a.createElement(U,{todolistId:t.id,task:e,key:e.id})})),r.a.createElement("div",null,r.a.createElement(A.a,{size:"small",color:"default",variant:"all"===t.filter?"outlined":"text",onClick:i},"All"),r.a.createElement(A.a,{color:"primary",size:"small",variant:"active"===t.filter?"outlined":"text",onClick:o},"Active"),r.a.createElement(A.a,{color:"secondary",size:"small",variant:"completed"===t.filter?"outlined":"text",onClick:l},"Completed"))))})),J=a(53),W=a(166),q=a(167),X=a(169),Y=a(170),$=a(171),Q=a(132),Z=a(168),tt=(Object(J.v1)(),Object(J.v1)(),r.a.memo((function(){var t=Object(u.c)((function(t){return t.todolists})),e=Object(u.b)(),a=Object(n.useCallback)((function(t){var a;e((a=t,function(){var t=Object(f.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.setTodolist(a);case 2:n=t.sent,e({type:"ADD-TODOLIST",todolist:n.data.data.item});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[e]);return Object(n.useEffect)((function(){e(function(){var t=Object(f.a)(d.a.mark((function t(e){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getTodoLists();case 2:a=t.sent,e({type:"todolist_reducer/SET_TODOLISTS",todolists:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e]),r.a.createElement("div",null,r.a.createElement(W.a,{position:"static"},r.a.createElement(q.a,null,r.a.createElement(R.a,{edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(Z.a,null)),r.a.createElement(X.a,{variant:"h6"},"News"),r.a.createElement(A.a,{color:"inherit"},"Login"))),r.a.createElement(Y.a,null,r.a.createElement($.a,{container:!0}," ",r.a.createElement(N,{addItems:a})),r.a.createElement($.a,{container:!0},t.map((function(t){return r.a.createElement($.a,{style:{padding:"10px"},key:t.id,item:!0,xs:3},r.a.createElement(Q.a,{elevation:5,style:{padding:"10px"}},r.a.createElement(B,{id:t.id,title:t.title,filter:t.filter})))})))))})));i.a.render(r.a.createElement(u.a,{store:D},r.a.createElement(tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},52:function(t,e,a){t.exports={delete:"todolist_delete__3KUky",test:"todolist_test__2Xzk0"}},93:function(t,e,a){t.exports=a(130)},98:function(t,e,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.2ebbeeca.chunk.js.map